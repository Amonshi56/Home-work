# Домашнее задание к занятию "4.8. Траблшутинг"

**

**Домашнее задание выполните в [Google Docs](https://docs.google.com/) и отправьте в личном кабинете на проверку ссылку на ваш документ.**

Название файла должно содержать номер лекции и фамилию студента. Пример названия: "4.8. Траблшутинг - Александр Александров"

Перед тем как выслать ссылку, убедитесь, что ее содержимое не является приватным (открыто на просмотр всем, у кого есть ссылка). Если необходимо прикрепить дополнительные ссылки, просто добавьте их в свой Google Docs.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

### [](https://github.com/netology-code/snet-homeworks/blob/main/4-08.md#%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-1)Задание 1.

1.  Укажите путь к файлам логов веб-сервера `Nginx`.
2.  Где находится конфигурационный файл, в котором можно посмотреть / поменять эти пути?
3.  Какой командой можно воспользоваться для просмотра файла журнала в режиме реального времени? Попробуйте найти сами, либо воспользуйтесь [ссылкой](https://andreyex.ru/operacionnaya-sistema-linux/nastrojka-zhurnala-oshibok-i-dostupa-nginx/).

_Приведите ответ в свободной форме._

Ответ: 
1. `/var/log/nginx/`
2. `/etc/nginx/nginx.conf`
3. `tail -f <log-file>`
---

### [](https://github.com/netology-code/snet-homeworks/blob/main/4-08.md#%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-2)Задание 2.

Познакомьтесь со схемой сети.

[![](https://camo.githubusercontent.com/cbe7d2e7b46c8248ca7d62670fa6b6d4c0021781d4387ce9b8930bb4bf7d03a2/68747470733a2f2f692e696d6775722e636f6d2f5265664648596a2e706e67)](https://camo.githubusercontent.com/cbe7d2e7b46c8248ca7d62670fa6b6d4c0021781d4387ce9b8930bb4bf7d03a2/68747470733a2f2f692e696d6775722e636f6d2f5265664648596a2e706e67)

1.  `COMP1` не может обменяться данными с `COMP4`. Какую последовательность действий вы выберете для того, чтобы локализовать проблему?
2.  Возможно ли, чтобы при выполнении `ping 192.168.1.2` с компьютера `COMP5`, `ping` прошёл, а подключение по HTTP с `COMP5` на `COMP1` не проходило бы? Поясните свой ответ максимально детально.
3.  `COMP5` отправляет `ping` на `COMP1` и `COMP2`, при этом `COMP1` на `ping` отвечает, а `COMP2` - нет.

Приведите максимальное количество причин. Самую простую, но нередко встречающуюся - «У `COMP2` выдернули кабель питания» - я уже ответил за вас.

4.  `COMP1` пингует только адреса из подсети `192.168.1.0/24` (`COMP2` и `192.168.1.1`), больше никакие адреса не пингуются. С чем это может быть связано?

_Приведите ответ в свободной форме._

Ответ:
1. Запущу trace что бы понять где прерывается соединение, дальше всё зависит от места обрыва.
2. Возможно проблема с портом; либо отрабатывает firewall; сервис работает через другой порт; проблема в работе ПО.
3. Неправильные настроики сети СОМР2; Проблема порта коммутатора.
4. Не прописаны маршруты на маршрутизаторе; на COMP1 не указан  шлюз по умолчанию.

---

**

## [](https://github.com/netology-code/snet-homeworks/blob/main/4-08.md#%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F-%D1%81%D0%BE-%D0%B7%D0%B2%D0%B5%D0%B7%D0%B4%D0%BE%D1%87%D0%BA%D0%BE%D0%B9)Дополнительные задания (со звездочкой*)

Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

### [](https://github.com/netology-code/snet-homeworks/blob/main/4-08.md#%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-3)Задание 3.

Используя схему из Задания 2, попробуйте ответить на вопросы:

1.  `COMP1` и `COMP2` оба пингуют `10.1.1.2`, однако не пингуют `192.168.2.1` и прочие адреса из `192.168.2.0/24`. Как вы думаете, что не так и как это можно исправить?
2.  Какими способами мы можем сделать так, чтобы `COMP2` не смог общаться ни с кем кроме своей локальной сети? (Приведите вариант с настройками самого `COMP2` и попробуйте придумать, можно ли что-то сделать на маршрутизаторе `192.168.1.1`)
3.  Как вы думаете, что будет происходить при попытке провести `ping` с `COMP5` на `192.168.2.3` ?

_Приведите ответ в свободной форме._

Ответ:
1.  Маршрутизатор `10.1.1.1` не знает о сети `192.168.2.0/24` ,исправить можно, например, прописав статические маршруты.
2. Не указывать на СОМР2 маршрут по умолчанию. На маршрутезаторе в ACL не маршрутизировать сеть, не знаю можно ли прописывать отдельный хост, но думаю что можно.
3.  Думаю что на `ping` ответит хост до которого запрос дойдет быстрее, точнее кто быстрее ответит на ARP от коммутатора.

---

### [](https://github.com/netology-code/snet-homeworks/blob/main/4-08.md#%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-4)Задание 4.

-   Сделайте `ping` с одной виртуальной / физической машины на другую.
-   Используя [описание утилиты iperf](https://losst.ru/kak-polzovatsya-iperf), загрузите канал между двумя виртуальными машинами на максимум, например, на 60 секунд, в процессе загрузки повторите `ping`.
-   Изменились ли цифры в ответе команды `ping`? Почему? Есть ли разница между физическими и виртуальными машинами?

_Приведите скриншоты/ответы команд до и во время высокой загрузки каналов._

Ответ:  пинг без нагрузки vm на vm
![](attachmants/2023-03-04_11-24-50.png)
пинг без нагрузки с физической на vm:![](attachmants/2023-03-04_09-28-45.png)
Пинг с VM на VM  под нагрузкой: ![](attachmants/2023-03-04_11-24-10.png)
Пинг с физической на VM под нагрузкой:![](attachmants/2023-03-04_11-19-51.png)Нагрузка была организованна с одной виртуальной машины на другую, в результате пинг с vm на vm увеличился в несколько раз, но при этом пинг с физической машины на vm не изменился. 
